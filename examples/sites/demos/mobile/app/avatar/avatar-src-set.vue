<template>
  <div class="avatar-wrap">
    <tiny-avatar :src="circleUrl" :src-set="srcSet" size="large"></tiny-avatar>
    <tiny-avatar :icon="IconClockWork" size="large"></tiny-avatar>
    <tiny-avatar :src="circleUrlfit" fit="none" size="large"></tiny-avatar>
    <tiny-avatar :src="errorUrl" :error="onError" fit="none" size="large"></tiny-avatar>
    <tiny-avatar :src="circleUrl" shape="square" fit="none" size="large"></tiny-avatar>
  </div>
</template>

<script setup lang="jsx">
import { ref } from 'vue'
import { TinyAvatar } from '@opentiny/vue-mobile'
import { iconClockWork } from '@opentiny/vue-icon'

const urlPrefix = import.meta.env.VITE_APP_BUILD_BASE_URL
const IconClockWork = iconClockWork()
const circleUrl = ref(`${urlPrefix}static/images/circle.png`)
const circleUrlfit = ref(`${urlPrefix}static/images/dog1.png`)
const srcSet = ref(
  `${urlPrefix}static/images/dog1.png 100w,${urlPrefix}static/images/dog2.png 300w,${urlPrefix}static/images/dog3.png 500w`
)
const errorUrl = ref('error.png')
// 使用错误路径
const onError = ref(function onError() {
  console.log('加载失败')
})
</script>

<style>
.avatar-wrap {
  padding: 20px;
}
.tiny-mobile-avatar {
  margin-right: 4px;
}
.avatar-wrap svg {
  height: 100%;
  width: 100%;
}
</style>
